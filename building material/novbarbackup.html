  <!-- ==================== TOP HEADER BAR ==================== -->
    <div id="topHeader" style="position:fixed;top:0;left:0;width:100%;z-index:1000;background:linear-gradient(135deg,#2c3e50 0%,#34495e 100%);color:white;padding:8px 20px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 3px 10px rgba(0,0,0,0.2);height:50px;box-sizing:border-box;">
        
        <!-- Left Hamburger (Mobile Only) -->
        <button id="topLeftBtn" onclick="toggleTopMenu()" style="display:block;background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.3);font-size:18px;cursor:pointer;color:#fff;padding:6px 10px;border-radius:4px;width:36px;height:36px;align-items:center;justify-content:center;">â˜°</button>
        
        <!-- Contact Info (Desktop Only) -->
        <div id="desktopContact" style="display:none;align-items:center;gap:20px;">
            <div style="display:flex;align-items:center;gap:8px;">
                <span style="color:#ecf0f1;font-size:14px;">ğŸ“</span>
                <a href="tel:+919087654321" style="color:#fff;text-decoration:none;font-size:14px;font-weight:bold;">+91 9087654321</a>
                <span style="color:#ecf0f1;margin:0 5px;">|</span>
                <a href="tel:+919876543210" style="color:#fff;text-decoration:none;font-size:14px;font-weight:bold;">+91 9876543210</a>
            </div>
            <div style="display:flex;align-items:center;gap:8px;">
                <span style="color:#ecf0f1;font-size:14px;">ğŸ“§</span>
                <a href="mailto:hitaishiconstuctions@gmail.com" style="color:white;text-decoration:none;font-size:14px;">hitaishiconstuctions@gmail.com</a>
            </div>
        </div>
        
        <!-- Company Name (Center) -->
        <!-- <div style="text-align:center;flex-grow:1;margin:0 15px;">
            <h1 style="font-size:18px;color:#f39c12;font-weight:bold;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:0;">ğŸ—ï¸ HITAISHI CONSTRUCTIONS</h1>
        </div> -->
        
       <!-- Social Links (Desktop Only) -->
<!-- Social Links (Desktop Only) -->
<div id="desktopSocial" 
     style="display:none;align-items:center;gap:10px;">

  <a href="https://facebook.com/hitaishiconstructions" target="_blank"
     style="width:34px;height:34px;border-radius:50%;
            background:rgba(255,255,255,0.15);
            display:flex;align-items:center;justify-content:center;">
    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg"
         alt="Facebook"
         style="width:18px;height:18px;filter:invert(1);">
  </a>

  <a href="https://twitter.com/hitaishiconst" target="_blank"
     style="width:34px;height:34px;border-radius:50%;
            background:rgba(255,255,255,0.15);
            display:flex;align-items:center;justify-content:center;">
    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/x.svg"
         alt="X"
         style="width:14px;height:14px;filter:invert(1);">
  </a>

  <a href="https://instagram.com/hitaishiconstructions" target="_blank"
     style="width:34px;height:34px;border-radius:50%;
            background:rgba(255,255,255,0.15);
            display:flex;align-items:center;justify-content:center;">
    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg"
         alt="Instagram"
         style="width:14px;height:14px;filter:invert(1);">
  </a>

  <a href="https://wa.me/911234567890" target="_blank"
     style="width:34px;height:34px;border-radius:50%;
            background:rgba(255,255,255,0.15);
            display:flex;align-items:center;justify-content:center;">
    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/whatsapp.svg"
         alt="WhatsApp"
         style="width:14px;height:14px;filter:invert(1);">
  </a>

</div>

        
        <!-- Right Hamburger (Mobile Only) -->
        <button id="topRightBtn" onclick="toggleSocialMenu()" style="display:block;background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.3);font-size:18px;cursor:pointer;color:#fff;padding:6px 10px;border-radius:4px;width:36px;height:36px;align-items:center;justify-content:center;">âœ†</button>
        
    </div>
    
    <!-- Mobile Top Menu (Hidden by default) -->
    <div id="mobileTopMenu" style="display:none;position:fixed;top:50px;left:0;width:100%;background:#2c3e50;padding:15px;z-index:999;box-shadow:0 4px 8px rgba(0,0,0,0.2);border-top:1px solid rgba(255,255,255,0.1);box-sizing:border-box;">
        <div style="margin-bottom:15px;">
            <p style="color:#ecf0f1;font-size:14px;margin-bottom:8px;display:flex;align-items:center;gap:8px;">ğŸ“ Phone Numbers:</p>
            <a href="tel:+919087654321" style="color:#3498db;text-decoration:none;font-weight:bold;font-size:15px;display:block;padding:5px 0;">+91 9087654321</a>
            <a href="tel:+919876543210" style="color:#3498db;text-decoration:none;font-weight:bold;font-size:15px;display:block;padding:5px 0;">+91 9876543210</a>
        </div>
        <div style="margin-bottom:15px;">
            <p style="color:#ecf0f1;font-size:14px;margin-bottom:8px;display:flex;align-items:center;gap:8px;">ğŸ“§ Email:</p>
            <a href="mailto:hitaishiconstuctions@gmail.com" style="color:white;text-decoration:none;font-size:14px;display:block;padding:5px 0;">hitaishiconstuctions@gmail.com</a>
        </div>
        
        <div>
            <p style="color:#ecf0f1;font-size:14px;margin-bottom:8px;">ğŸŒ Follow Us:</p>
            <div style="display:flex;gap:15px;">
                <a href="https://facebook.com/hitaishiconstructions" target="_blank" style="color:#3b5998;font-size:20px;text-decoration:none;">f</a>
                <a href="https://twitter.com/hitaishiconst" target="_blank" style="color:#1DA1F2;font-size:20px;text-decoration:none;">ğ•</a>
                <a href="https://instagram.com/hitaishiconstructions" target="_blank" style="color:#E1306C;font-size:20px;text-decoration:none;">ğŸ“·</a>
                <a href="https://wa.me/911234567890" target="_blank" style="color:#25D366;font-size:20px;text-decoration:none;">âœ†</a>
            </div>
        </div>

    </div>
    
    <!-- ==================== MAIN NAVIGATION BAR ==================== -->
    <div id="mainNav" style="position:fixed;top:50px;left:0;width:100%;z-index:998;background:linear-gradient(90deg,#fff 0%,#f8f8f8 100%);height:60px;display:flex;align-items:center;justify-content:space-between;padding:0 20px;box-shadow:0 2px 5px rgba(0,0,0,0.1);border-bottom:1px solid #ddd;box-sizing:border-box;">
        
        <!-- Logo -->
        <a href="index.html" style="display:flex;align-items:center;text-decoration:none;flex-shrink:0;">
            <div style="background:#f39c12;color:white;font-weight:bold;padding:8px 12px;border-radius:4px;font-size:16px;display:flex;align-items:center;justify-content:center;height:40px;">HC</div>
            <span id="logoText" style="margin-left:10px;font-size:16px;color:#2c3e50;font-weight:bold;display:inline;">HITAISHI CONSTRUCTIONS</span>
        </a>
        
        <!-- Desktop Navigation Center Section -->
        <div id="desktopNavCenter" style="display:none;align-items:center;gap:15px;flex-grow:1;justify-content:center;max-width:600px;margin:0 20px;">
            
            <!-- Location Selector -->
            <div style="position:relative;">
                <select style="padding:8px 12px;font-size:14px;background:#fff;border:2px solid #ddd;border-radius:4px;cursor:pointer;min-width:140px;outline:none;">
                    <option>ğŸ“ Select Location</option>
                    <option>ğŸ“ Delhi</option>
                    <option>ğŸ™ï¸ Mumbai</option>
                    <option>ğŸ’¼ Bangalore</option>
                </select>
            </div>
            
            <!-- Search Box -->
            <div style="display:flex;align-items:center;flex-grow:1;max-width:300px;">
                <input type="text" placeholder="ğŸ” Search products..." style="padding:8px 12px;width:100%;font-size:14px;background:#fff;border:2px solid #ddd;border-right:none;border-radius:4px 0 0 4px;outline:none;">
                <button style="padding:8px 16px;font-size:14px;background:#333;color:white;border:none;border-radius:0 4px 4px 0;cursor:pointer;font-weight:bold;">Search</button>
            </div>
            
        </div>
        
        <!-- Desktop Navigation Links -->
        <div id="desktopNavLinks" style="display:none;align-items:center;gap:15px;">
            <a href="About.html" style="text-decoration:none;color:#2c3e50;font-weight:bold;font-size:14px;padding:8px 12px;border-radius:4px;transition:all 0.3s;white-space:nowrap;">â„¹ï¸ About</a>
            <a href="storelocater.html" style="text-decoration:none;color:#2c3e50;font-weight:bold;font-size:14px;padding:8px 12px;border-radius:4px;transition:all 0.3s;white-space:nowrap;">ğŸ“ Store</a>
            <a href="cart.html" style="text-decoration:none;color:#2c3e50;font-weight:bold;font-size:14px;padding:8px 12px;border-radius:4px;transition:all 0.3s;white-space:nowrap;position:relative;">ğŸ›’ Cart <span id="cartBadgeDesktop" style="position:absolute;top:-8px;right:0px;background:#e74c3c;color:white;font-size:11px;padding:3px 6px;border-radius:12px;font-weight:bold;min-width:20px;text-align:center;">[0]</span></a>
            <a href="contactus.html" style="text-decoration:none;color:#2c3e50;font-weight:bold;font-size:14px;padding:8px 12px;border-radius:4px;transition:all 0.3s;white-space:nowrap;">â˜ï¸ Contact</a>
            
            <!-- Login/User Section -->
            <div id="desktopLoginSection" style="display:flex;align-items:center;gap:10px;">
                <a href="login.html" style="text-decoration:none;color:#fff;font-weight:bold;font-size:14px;padding:8px 16px;border-radius:4px;background:linear-gradient(135deg,#27ae60 0%,#229954 100%);white-space:nowrap;">ğŸ” Login</a>
            </div>
            
            <!-- User Profile Section (Hidden by default) -->
            <div id="desktopUserProfile" style="display:none;align-items:center;gap:12px;">
                <button onclick="goToUserProfile()" style="padding:8px 12px;background:#ecf0f1;border-radius:4px;border:none;cursor:pointer;transition:all 0.3s;font-weight:bold;font-size:14px;color:#2c3e50;">
                    <span id="desktopUserName">ğŸ‘¤ User</span>
                </button>
                <button onclick="logoutUser()" style="text-decoration:none;color:#fff;font-weight:bold;font-size:14px;padding:8px 16px;border-radius:4px;background:linear-gradient(135deg,#e74c3c 0%,#c0392b 100%);white-space:nowrap;border:none;cursor:pointer;">ğŸšª Logout</button>
            </div>
        </div>
        
        <!-- Mobile Menu Button -->
        <button id="mobileMenuBtn" onclick="toggleMainMenu()" style="display:block;background:#f39c12;border:none;font-size:18px;cursor:pointer;color:#fff;padding:8px 12px;border-radius:4px;width:40px;height:40px;align-items:center;justify-content:center;">â˜°</button>
        
    </div>
    
    <!-- ==================== CATEGORY NAVIGATION BAR ==================== -->
    <div id="categoryNav" style="position:fixed;top:110px;left:0;width:100%;z-index:997;background:#fff;padding:12px 20px;box-shadow:0 2px 5px rgba(0,0,0,0.08);border-top:1px solid #eee;display:none;box-sizing:border-box;">
        <div style="display:flex;justify-content:center;align-items:center;gap:20px;flex-wrap:wrap;">
            <a href="index.html" style="text-decoration:none;color:#2c3e50;font-weight:600;padding:6px 12px;border-radius:4px;font-size:14px;white-space:nowrap;">ğŸ  Home</a>
            <a href="cement.html" style="text-decoration:none;color:#2c3e50;font-weight:600;padding:6px 12px;border-radius:4px;font-size:14px;white-space:nowrap;">ğŸ­ Cement</a>
            <a href="bricks.html" style="text-decoration:none;color:#2c3e50;font-weight:600;padding:6px 12px;border-radius:4px;font-size:14px;white-space:nowrap;">ğŸ§± Bricks</a>
            <a href="building-materials.html" style="text-decoration:none;color:#2c3e50;font-weight:600;padding:6px 12px;border-radius:4px;font-size:14px;white-space:nowrap;">ğŸ—ï¸ Building Materials</a>
            <a href="iron.html" style="text-decoration:none;color:#2c3e50;font-weight:600;padding:6px 12px;border-radius:4px;font-size:14px;white-space:nowrap;">âš™ï¸ Iron & Steel</a>
            <a href="plumbing.html" style="text-decoration:none;color:#2c3e50;font-weight:600;padding:6px 12px;border-radius:4px;font-size:14px;white-space:nowrap;">ğŸš° Plumbing</a>
            <a href="home-interiors.html" style="text-decoration:none;color:#2c3e50;font-weight:600;padding:6px 12px;border-radius:4px;font-size:14px;white-space:nowrap;">ğŸ¨ Home Interiors</a>
            <a href="wishlist.html" style="text-decoration:none;color:#2c3e50;font-weight:600;padding:6px 12px;border-radius:4px;font-size:14px;white-space:nowrap;">â¤ï¸ Wishlist</a>
        </div>
    </div>
    
    <!-- Category Toggle Button (Mobile Only) -->
    <button id="categoryToggleBtn" onclick="toggleCategoryMenu()" style="position:fixed;top:115px;right:20px;z-index:996;background:#f39c12;border:none;color:white;font-size:12px;padding:6px 12px;border-radius:4px;cursor:pointer;display:flex;align-items:center;gap:5px;font-weight:bold;box-shadow:0 2px 5px rgba(0,0,0,0.2);">ğŸ“ Categories</button>
    
    <!-- Mobile Category Menu -->
    <div id="mobileCategoryMenu" style="display:none;position:fixed;top:110px;left:0;width:100%;z-index:995;background:#fff;padding:15px;box-shadow:0 4px 8px rgba(0,0,0,0.1);border-top:1px solid #eee;box-sizing:border-box;">
        <div style="display:grid;grid-template-columns:repeat(2, 1fr);gap:10px;">
            <a href="index.html" style="text-decoration:none;color:#2c3e50;font-weight:500;padding:10px;border-radius:4px;font-size:13px;background:#f8f8f8;text-align:center;display:flex;align-items:center;justify-content:center;gap:5px;">ğŸ  Home</a>
            <a href="cement.html" style="text-decoration:none;color:#2c3e50;font-weight:500;padding:10px;border-radius:4px;font-size:13px;background:#f8f8f8;text-align:center;display:flex;align-items:center;justify-content:center;gap:5px;">ğŸ­ Cement</a>
            <a href="bricks.html" style="text-decoration:none;color:#2c3e50;font-weight:500;padding:10px;border-radius:4px;font-size:13px;background:#f8f8f8;text-align:center;display:flex;align-items:center;justify-content:center;gap:5px;">ğŸ§± Bricks</a>
            <a href="building-materials.html" style="text-decoration:none;color:#2c3e50;font-weight:500;padding:10px;border-radius:4px;font-size:13px;background:#f8f8f8;text-align:center;display:flex;align-items:center;justify-content:center;gap:5px;">ğŸ—ï¸ Building</a>
            <a href="iron.html" style="text-decoration:none;color:#2c3e50;font-weight:500;padding:10px;border-radius:4px;font-size:13px;background:#f8f8f8;text-align:center;display:flex;align-items:center;justify-content:center;gap:5px;">âš™ï¸ Iron</a>
            <a href="plumbing.html" style="text-decoration:none;color:#2c3e50;font-weight:500;padding:10px;border-radius:4px;font-size:13px;background:#f8f8f8;text-align:center;display:flex;align-items:center;justify-content:center;gap:5px;">ğŸš° Plumbing</a>
            <a href="home-interiors.html" style="text-decoration:none;color:#2c3e50;font-weight:500;padding:10px;border-radius:4px;font-size:13px;background:#f8f8f8;text-align:center;display:flex;align-items:center;justify-content:center;gap:5px;">ğŸ¨ Interiors</a>
            <a href="superviser.html" style="text-decoration:none;color:#2c3e50;font-weight:500;padding:10px;border-radius:4px;font-size:13px;background:#f8f8f8;text-align:center;display:flex;align-items:center;justify-content:center;gap:5px;">ğŸ‘¨â€ğŸ’¼ Supervisor</a>
        </div>
    </div>
    
    <!-- Mobile Main Menu -->
    <div id="mobileMainMenu" style="display:none;position:fixed;top:110px;left:0;width:100%;background:#fff;z-index:994;box-shadow:0 4px 12px rgba(0,0,0,0.15);max-height:calc(100vh - 110px);overflow-y:auto;box-sizing:border-box;padding:0;">
        
        <!-- Location & Search Section -->
        <div style="padding:15px 0;background:linear-gradient(135deg,#f39c12 0%,#e67e22 100%);">
            <div style="margin-bottom:15px;padding:0 15px;">
                <label style="display:block;margin-bottom:8px;font-weight:bold;color:#fff;font-size:14px;">ğŸ“ Select Location:</label>
                <select style="padding:12px;font-size:14px;width:100%;background:#fff;border:none;border-radius:4px;">
                    <option>Select Location</option>
                    <option>ğŸ“ Delhi</option>
                    <option>ğŸ™ï¸ Mumbai</option>
                    <option>ğŸ’¼ Bangalore</option>
                </select>
            </div>
            <div style="display:flex;gap:8px;padding:0 15px;">
                <input type="text" placeholder="ğŸ” Search products..." style="padding:12px;font-size:14px;width:100%;background:#fff;border:none;border-radius:4px;">
                <button style="padding:12px 20px;background:#fff;color:#e67e22;border:none;border-radius:4px;cursor:pointer;font-weight:bold;">Go</button>
            </div>
        </div>
        
        <!-- Main Links -->
        <div style="padding:10px 0;">
            <a href="About.html" style="text-decoration:none;color:#333;font-weight:500;padding:15px 20px;display:flex;align-items:center;gap:12px;border-bottom:1px solid #eee;font-size:15px;">
                <span style="color:#f39c12;font-size:18px;">â„¹ï¸</span> About Us
            </a>
            <a href="storelocater.html" style="text-decoration:none;color:#333;font-weight:500;padding:15px 20px;display:flex;align-items:center;gap:12px;border-bottom:1px solid #eee;font-size:15px;">
                <span style="color:#3498db;font-size:18px;">ğŸ“</span> Store Locator
            </a>
            <a href="cart.html" style="text-decoration:none;color:#333;font-weight:500;padding:15px 20px;display:flex;align-items:center;gap:12px;border-bottom:1px solid #eee;font-size:15px;">
                <span style="color:#e74c3c;font-size:18px;">ğŸ›’</span> Shopping Cart
                <span id="cartBadgeMobile" style="background:#e74c3c;color:white;font-size:11px;padding:4px 8px;border-radius:12px;font-weight:bold;margin-left:auto;">[0]</span>
            </a>
            <a href="contactus.html" style="text-decoration:none;color:#333;font-weight:500;padding:15px 20px;display:flex;align-items:center;gap:12px;border-bottom:1px solid #eee;font-size:15px;">
                <span style="color:#9b59b6;font-size:18px;">â˜ï¸</span> Contact Us
            </a>
        </div>
        
        <!-- Account Section -->
        <div style="padding:20px;background:#f8f9fa;border-top:1px solid #ddd;">
            <!-- Mobile Login Section -->
            <div id="mobileLoginSection">
                <a href="login.html" style="text-decoration:none;color:#fff;font-weight:bold;padding:14px;display:block;text-align:center;border-radius:4px;background:linear-gradient(135deg,#27ae60 0%,#229954 100%);margin-bottom:10px;">
                    ğŸ” Login to Account
                </a>
                <p style="text-align:center;font-size:13px;color:#666;">New customer? <a href="register.html" style="color:#3498db;text-decoration:none;">Register here</a></p>
            </div>
            
            <!-- Mobile User Profile Section (Hidden by default) -->
            <div id="mobileUserProfile" style="display:none;">
                <button onclick="goToUserProfile()" style="background:#ecf0f1;padding:12px;border-radius:4px;margin-bottom:12px;text-align:center;width:100%;border:none;cursor:pointer;transition:all 0.3s;font-weight:bold;font-size:14px;color:#2c3e50;">
                    <span id="mobileUserName">ğŸ‘¤ User Profile</span>
                </button>
                <button onclick="logoutUser()" style="text-decoration:none;color:#fff;font-weight:bold;padding:12px;display:block;width:100%;text-align:center;border-radius:4px;background:linear-gradient(135deg,#e74c3c 0%,#c0392b 100%);border:none;cursor:pointer;margin-bottom:10px;font-size:14px;">
                    ğŸšª Logout
                </button>
                <p style="text-align:center;font-size:13px;color:#666;"><a href="buyer_dashboard.html" style="color:#3498db;text-decoration:none;">ğŸ“Š My Dashboard</a></p>
            </div>
        </div>
        
        <!-- Social Links -->
        <div style="padding:20px;background:#2c3e50;display:flex;justify-content:center;gap:20px;">
            <a href="https://facebook.com/hitaishiconstructions" target="_blank" style="color:#3b5998;font-size:20px;text-decoration:none;">f</a>
            <a href="https://twitter.com/hitaishiconst" target="_blank" style="color:#1DA1F2;font-size:20px;text-decoration:none;">ğ•</a>
            <a href="https://instagram.com/hitaishiconstructions" target="_blank" style="color:#E1306C;font-size:20px;text-decoration:none;">ğŸ“·</a>
            <a href="https://wa.me/911234567890" target="_blank" style="color:#25D366;font-size:20px;text-decoration:none;">âœ†</a>
        </div>
    </div>
    
    <!-- ==================== MAIN CONTENT ==================== -->
   

    <script>
        // Initial check for screen size
        checkScreenSize();
        
        // Function to toggle top menu
        function toggleTopMenu() {
            const menu = document.getElementById('mobileTopMenu');
            const mainMenu = document.getElementById('mobileMainMenu');
            const categoryMenu = document.getElementById('mobileCategoryMenu');
            
            if (menu.style.display === 'block') {
                menu.style.display = 'none';
            } else {
                menu.style.display = 'block';
                mainMenu.style.display = 'none';
                categoryMenu.style.display = 'none';
                document.getElementById('categoryToggleBtn').innerHTML = 'ğŸ“ Categories';
            }
        }
        
        // Function to toggle social menu
        function toggleSocialMenu() {
            toggleTopMenu(); // Same as top menu for mobile
        }
        
        // Function to toggle main menu
        function toggleMainMenu() {
            const menu = document.getElementById('mobileMainMenu');
            const topMenu = document.getElementById('mobileTopMenu');
            const categoryMenu = document.getElementById('mobileCategoryMenu');
            
            if (menu.style.display === 'block') {
                menu.style.display = 'none';
            } else {
                menu.style.display = 'block';
                topMenu.style.display = 'none';
                categoryMenu.style.display = 'none';
                document.getElementById('categoryToggleBtn').innerHTML = 'ğŸ“ Categories';
            }
        }
        
        // Function to toggle category menu
        function toggleCategoryMenu() {
            const menu = document.getElementById('mobileCategoryMenu');
            const topMenu = document.getElementById('mobileTopMenu');
            const mainMenu = document.getElementById('mobileMainMenu');
            const toggleBtn = document.getElementById('categoryToggleBtn');
            
            if (menu.style.display === 'block') {
                menu.style.display = 'none';
                toggleBtn.innerHTML = 'ğŸ“ Categories';
            } else {
                menu.style.display = 'block';
                topMenu.style.display = 'none';
                mainMenu.style.display = 'none';
                toggleBtn.innerHTML = 'âœ• Close';
            }
        }
        
        // Function to check screen size and adjust layout
        function checkScreenSize() {
            const width = window.innerWidth;
            const topLeftBtn = document.getElementById('topLeftBtn');
            const topRightBtn = document.getElementById('topRightBtn');
            const desktopContact = document.getElementById('desktopContact');
            const desktopSocial = document.getElementById('desktopSocial');
            const desktopNavCenter = document.getElementById('desktopNavCenter');
            const desktopNavLinks = document.getElementById('desktopNavLinks');
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const categoryNav = document.getElementById('categoryNav');
            const categoryToggleBtn = document.getElementById('categoryToggleBtn');
            const logoText = document.getElementById('logoText');
            const mobileTopMenu = document.getElementById('mobileTopMenu');
            const mobileMainMenu = document.getElementById('mobileMainMenu');
            const mobileCategoryMenu = document.getElementById('mobileCategoryMenu');
            
            if (width >= 769) {
                // DESKTOP VIEW
                topLeftBtn.style.display = 'none';
                topRightBtn.style.display = 'none';
                desktopContact.style.display = 'flex';
                desktopSocial.style.display = 'flex';
                desktopNavCenter.style.display = 'flex';
                desktopNavLinks.style.display = 'flex';
                mobileMenuBtn.style.display = 'none';
                categoryNav.style.display = 'block';
                categoryToggleBtn.style.display = 'none';
                logoText.style.display = 'inline';
                
                // Close all mobile menus
                mobileTopMenu.style.display = 'none';
                mobileMainMenu.style.display = 'none';
                mobileCategoryMenu.style.display = 'none';
                categoryToggleBtn.innerHTML = 'ğŸ“ Categories';
                
                // Adjust body padding for 3 bars
                document.body.style.paddingTop = '168px';
                
            } else if (width >= 601 && width <= 768) {
                // TABLET VIEW
                topLeftBtn.style.display = 'flex';
                topRightBtn.style.display = 'flex';
                desktopContact.style.display = 'none';
                desktopSocial.style.display = 'none';
                desktopNavCenter.style.display = 'none';
                desktopNavLinks.style.display = 'none';
                mobileMenuBtn.style.display = 'flex';
                categoryNav.style.display = 'none';
                categoryToggleBtn.style.display = 'flex';
                logoText.style.display = 'none';
                
                // Adjust body padding
                document.body.style.paddingTop = '155px';
                
            } else {
                // MOBILE VIEW
                topLeftBtn.style.display = 'flex';
                topRightBtn.style.display = 'flex';
                desktopContact.style.display = 'none';
                desktopSocial.style.display = 'none';
                desktopNavCenter.style.display = 'none';
                desktopNavLinks.style.display = 'none';
                mobileMenuBtn.style.display = 'flex';
                categoryNav.style.display = 'none';
                categoryToggleBtn.style.display = 'flex';
                logoText.style.display = 'none';
                
                // Adjust body padding
                document.body.style.paddingTop = '140px';
            }
        }
        
        // Add hover effects for desktop
        function addDesktopHoverEffects() {
            const desktopLinks = document.querySelectorAll('#desktopNavLinks a');
            desktopLinks.forEach(link => {
                link.addEventListener('mouseover', function() {
                    if (!this.style.background.includes('gradient')) {
                        this.style.backgroundColor = 'black';
                        this.style.color = 'white';
                        this.style.transform = 'translateY(-2px)';
                    }
                });
                
                link.addEventListener('mouseout', function() {
                    if (!this.style.background.includes('gradient')) {
                        this.style.backgroundColor = '';
                        this.style.color = '#2c3e50';
                        this.style.transform = '';
                    }
                });
            });
            
            const categoryLinks = document.querySelectorAll('#categoryNav a');
            categoryLinks.forEach((link, index) => {
                link.addEventListener('mouseover', function() {
                    const colors = ['#f39c12', '#e74c3c', '#3498db', '#9b59b6', '#2c3e50', '#16a085', '#d35400', '#c0392b'];
                    this.style.backgroundColor = colors[index % colors.length];
                    this.style.color = 'white';
                    this.style.transform = 'translateY(-2px)';
                });
                
                link.addEventListener('mouseout', function() {
                    this.style.backgroundColor = '';
                    this.style.color = '#2c3e50';
                    this.style.transform = '';
                });
            });
        }
        
        // Close menus when clicking outside
        document.addEventListener('click', function(event) {
            const mobileTopMenu = document.getElementById('mobileTopMenu');
            const mobileMainMenu = document.getElementById('mobileMainMenu');
            const mobileCategoryMenu = document.getElementById('mobileCategoryMenu');
            const categoryToggleBtn = document.getElementById('categoryToggleBtn');
            
            const isMobile = window.innerWidth < 769;
            
            if (isMobile) {
                // Check if click is outside all mobile menus
                if (!event.target.closest('#mobileTopMenu') && 
                    !event.target.closest('#mobileMainMenu') && 
                    !event.target.closest('#mobileCategoryMenu') &&
                    !event.target.closest('#topLeftBtn') &&
                    !event.target.closest('#topRightBtn') &&
                    !event.target.closest('#mobileMenuBtn') &&
                    event.target !== categoryToggleBtn) {
                    
                    mobileTopMenu.style.display = 'none';
                    mobileMainMenu.style.display = 'none';
                    mobileCategoryMenu.style.display = 'none';
                    categoryToggleBtn.innerHTML = 'ğŸ“ Categories';
                }
            }
        });
        
        // Close menu when a link is clicked (mobile)
        document.querySelectorAll('#mobileTopMenu a, #mobileMainMenu a, #mobileCategoryMenu a').forEach(link => {
            link.addEventListener('click', () => {
                document.getElementById('mobileTopMenu').style.display = 'none';
                document.getElementById('mobileMainMenu').style.display = 'none';
                document.getElementById('mobileCategoryMenu').style.display = 'none';
                document.getElementById('categoryToggleBtn').innerHTML = 'ğŸ“ Categories';
            });
        });
        
        // ============ SEARCH FUNCTIONALITY ============
        function handleSearch(searchQuery) {
            if (searchQuery.trim() !== '') {
                // Store search query in localStorage
                localStorage.setItem('searchQuery', searchQuery);
                localStorage.setItem('searchActive', 'true');
                
                // Navigate to products page
                window.location.href = 'view_products.html';
            }
        }

        // Search button click handlers
        document.querySelectorAll('button').forEach(button => {
            if (button.textContent.includes('Search') || button.textContent.includes('Go')) {
                button.addEventListener('click', function() {
                    const searchInput = this.previousElementSibling;
                    if (searchInput && searchInput.value.trim() !== '') {
                        handleSearch(searchInput.value);
                    }
                });
            }
        });
        
        // Add Enter key support for search inputs
        document.querySelectorAll('input[type="text"]').forEach(input => {
            if (input.placeholder && input.placeholder.includes('Search')) {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && this.value.trim() !== '') {
                        handleSearch(this.value);
                    }
                });
            }
        });
        
        // ============ USER SESSION MANAGEMENT ============
        function updateUserUI() {
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            const userSessionJSON = localStorage.getItem('userSession');
            
            if (isLoggedIn && userSessionJSON) {
                try {
                    const userSession = JSON.parse(userSessionJSON);
                    const userName = userSession.name || userSession.email.split('@')[0] || 'User';
                    
                    // Update desktop UI
                    const desktopLoginSection = document.getElementById('desktopLoginSection');
                    const desktopUserProfile = document.getElementById('desktopUserProfile');
                    const desktopUserName = document.getElementById('desktopUserName');
                    
                    if (desktopLoginSection && desktopUserProfile) {
                        desktopLoginSection.style.display = 'none';
                        desktopUserProfile.style.display = 'flex';
                        desktopUserName.textContent = `ğŸ‘¤ ${userName}`;
                    }
                    
                    // Update mobile UI
                    const mobileLoginSection = document.getElementById('mobileLoginSection');
                    const mobileUserProfile = document.getElementById('mobileUserProfile');
                    const mobileUserName = document.getElementById('mobileUserName');
                    
                    if (mobileLoginSection && mobileUserProfile) {
                        mobileLoginSection.style.display = 'none';
                        mobileUserProfile.style.display = 'block';
                        mobileUserName.textContent = `ğŸ‘¤ ${userName}`;
                    }
                } catch (e) {
                    console.error('Error parsing user session:', e);
                }
            } else {
                // Show login button, hide user profile
                const desktopLoginSection = document.getElementById('desktopLoginSection');
                const desktopUserProfile = document.getElementById('desktopUserProfile');
                const mobileLoginSection = document.getElementById('mobileLoginSection');
                const mobileUserProfile = document.getElementById('mobileUserProfile');
                
                if (desktopLoginSection) desktopLoginSection.style.display = 'flex';
                if (desktopUserProfile) desktopUserProfile.style.display = 'none';
                if (mobileLoginSection) mobileLoginSection.style.display = 'block';
                if (mobileUserProfile) mobileUserProfile.style.display = 'none';
            }
            
            // Update cart count
            updateCartBadge();
        }
        
        function updateCartBadge() {
            try {
                const cartKey = localStorage.getItem('cart_key');
                
                if (!cartKey) {
                    // No cart yet, show 0
                    const desktopBadge = document.getElementById('cartBadgeDesktop');
                    const mobileBadge = document.getElementById('cartBadgeMobile');
                    if (desktopBadge) desktopBadge.textContent = '[0]';
                    if (mobileBadge) mobileBadge.textContent = '[0]';
                    return;
                }
                
                // Fetch cart from API
                fetch(`http://localhost:5000/api/cart/${encodeURIComponent(cartKey)}`)
                    .then(r => r.json())
                    .then(data => {
                        const cartCount = (data.items && data.items.length) ? data.items.length : 0;
                        
                        const desktopBadge = document.getElementById('cartBadgeDesktop');
                        const mobileBadge = document.getElementById('cartBadgeMobile');
                        
                        if (desktopBadge) desktopBadge.textContent = `[${cartCount}]`;
                        if (mobileBadge) mobileBadge.textContent = `[${cartCount}]`;
                    })
                    .catch(e => console.error('Error updating cart badge:', e));
            } catch (e) {
                console.error('Error in updateCartBadge:', e);
            }
        }
        
        function logoutUser() {
            // Clear user session from localStorage
            localStorage.removeItem('isLoggedIn');
            localStorage.removeItem('userSession');
            
            alert('Logged out successfully!');
            
            // Close menus
            document.getElementById('mobileMainMenu').style.display = 'none';
            document.getElementById('mobileCategoryMenu').style.display = 'none';
            document.getElementById('categoryToggleBtn').innerHTML = 'ğŸ“ Categories';
            
            // Update UI
            updateUserUI();
            
            // Redirect to home after a brief delay
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 800);
        }
        
        function goToUserProfile() {
            // Check if user is logged in
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            if (!isLoggedIn) {
                alert('Please login first!');
                window.location.href = 'login.html';
                return;
            }
            
            // Get user session to check user type
            const userSessionJSON = localStorage.getItem('userSession');
            if (userSessionJSON) {
                try {
                    const userSession = JSON.parse(userSessionJSON);
                    // If seller, go to seller profile
                    if (userSession.userType === 'seller') {
                        window.location.href = 'seller_profile.html';
                    } else {
                        // If buyer, go to user (buyer) profile
                        window.location.href = 'user_profile.html';
                    }
                } catch (e) {
                    console.error('Error parsing user session:', e);
                    window.location.href = 'user_profile.html';
                }
            } else {
                window.location.href = 'user_profile.html';
            }
        }
        
        // Listen for window resize
        window.addEventListener('resize', checkScreenSize);
        
        // Initialize desktop hover effects and check login status
        window.addEventListener('load', function() {
            checkScreenSize();
            addDesktopHoverEffects();
            updateUserUI();
        });
        
        // Also check on page visibility (when user returns to tab)
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                updateUserUI();
            }
        });
    </script>
</body>
</html>