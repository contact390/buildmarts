<!DOCTYPE html>
<html>
<head>
  <title>Register</title>
</head>
<body style="margin:0;font-family:'Poppins',sans-serif;background:#f4f4f4;">


  <div id="navbar-container"></div>



  <form id="registerForm" onsubmit="submitForm(event)" style="width:90%;max-width:300px;margin:50px auto;background:#fff;padding:25px 20px;border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,0.1); margin-top: 190px;">
  <h2 style="text-align:center;margin-bottom:20px;">Create Account</h2>

  <label style="display:block;margin-bottom:5px;">Name</label>
  <input type="text" id="name" style="width:90%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px;" required>

  <label style="display:block;margin-bottom:5px;">Email</label>
  <input type="email" id="email" style="width:90%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px;" required>

  <label style="display:block;margin-bottom:5px;">Phone Number</label>
  <input type="tel" id="phone" style="width:90%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px;" required>

  <label style="display:block;margin-bottom:5px;">Password</label>
  <input type="password" id="password" style="width:90%;padding:10px;margin-bottom:20px;border:1px solid #ccc;border-radius:5px;" required>

<div style="text-align:center;">
  <button type="submit" style="width:50%;padding:12px;background:#007BFF;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;">Register</button>
</div>

  <p style="margin-top:15px;text-align:center;font-size:14px;">Already have an account?
    <a href="login.html" style="color:#007BFF;text-decoration:none;">Login</a>
  </p>
</form>

<script>
  function submitForm(event) {
    event.preventDefault();

    const name = document.getElementById('name').value.trim();
    const email = document.getElementById('email').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const password = document.getElementById('password').value;

    if (!name || !email || !phone || !password) {
      alert("Please fill in all fields.");
      return;
    }

    // ‚úÖ Mobile number validation
    const phoneRegex = /^[6-9]\d{9}$/;
    if (!phoneRegex.test(phone)) {
      alert("Please enter a valid 10-digit mobile number starting with 6, 7, 8, or 9.");
      return;
    }

    fetch('http://localhost:5000/api/profile_register', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        name,
        email,
        phone,
        password
      })
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        alert("Registration successful!");
        document.getElementById('registerForm').reset();
        window.location.href = 'login.html';
      } else {
        alert(data.message || "Registration failed.");
      }
    })
    .catch(error => {
      console.error('Error:', error);
      alert("An error occurred while registering.");
    });
  }
</script>





<footer style="background-color: #333; color: white; padding: 40px 20px; margin-top: 50px;">
        <div style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; flex-wrap: wrap; gap: 30px;">
          <div style="flex: 1; min-width: 250px;">
            <h3 style="color: #ffd700; border-bottom: 2px solid #ffd700; padding-bottom: 10px;">Hitaishi Constructions</h3>
            <p style="color: #ffffff; margin-top: 10px;">Building India's Future with Quality Materials Since 2005. Trusted by over 10,000 contractors nationwide.</p>
            <!-- <p style="color: #ffffff; margin-top: 10px;">We specialize in residential, commercial, and infrastructure-grade supplies, ensuring durability, style, and compliance with modern safety standards.</p> -->
            <p style="color: #ffffff; margin-top: 10px;">From premium tiles to structural essentials, our products fuel projects across cities and rural developments alike.</p>
          </div>
          
            <div style="flex: 1; min-width: 250px;">
                <h3 style="color: #ffd700; border-bottom: 2px solid #ffd700; padding-bottom: 10px;">Quick Links</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin: 8px 0;"><a href="/about-us" style="color: white; text-decoration: none;" title="Learn About Hitaishi Constructions">About Us</a></li>
                    <li style="margin: 8px 0;"><a href="/contact-us" style="color: white; text-decoration: none;" title="Contact Hitaishi Constructions">Contact Us</a></li>
                    <li style="margin: 8px 0;"><a href="/privacy-policy" style="color: white; text-decoration: none;" title="Hitaishi Constructions Privacy Policy">Privacy Policy</a></li>
                    <li style="margin: 8px 0;"><a href="/terms-conditions" style="color: white; text-decoration: none;" title="Hitaishi Constructions Terms and Conditions">Terms & Conditions</a></li>
                    <li style="margin: 8px 0;"><a href="/careers" style="color: white; text-decoration: none;" title="Career Opportunities at Hitaishi Constructions">Careers</a></li>
                </ul>
            </div>
            <div style="flex: 1; min-width: 250px;">
                <h3 style="color: #ffd700; border-bottom: 2px solid #ffd700; padding-bottom: 10px;">Contact Us</h3>
                <p style="margin: 8px 0;">üìç 123 Construction Street, Delhi, India</p>
                <p style="margin: 8px 0;">üìû <a href="tel:+911234567890" style="color: white; text-decoration: none;" title="Call Hitaishi Constructions">+91-123-456-7890</a></p>
                <p style="margin: 8px 0;">üìß <a href="mailto:hitaishiconstuctions@gmail.com" style="color: white; text-decoration: none;" title="Email Hitaishi Constructions">hitaishiconstuctions@gmail.com</a></p>
                <div style="margin-top: 15px; display: flex; gap: 15px; flex-wrap: wrap;">
                  <a href="https://facebook.com/hitaishiconstructions" target="_blank" aria-label="Hitaishi Constructions on Facebook" title="Follow Hitaishi Constructions on Facebook">
                    <svg style="width:25px;height:25px;fill:#3b5998;" viewBox="0 0 24 24" role="img">
                      <path d="M22 12c0-5.522-4.478-10-10-10S2 6.478 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54v-2.891h2.54V9.845c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.242 0-1.63.771-1.63 1.562v1.875h2.773l-.443 2.891h-2.33V21.878C18.343 21.128 22 16.991 22 12z"/>
                    </svg>
                  </a>
                  <a href="https://twitter.com/hitaishiconst" target="_blank" aria-label="Hitaishi Constructions on Twitter" title="Follow Hitaishi Constructions on Twitter">
                    <svg style="width:25px;height:25px;fill:#1DA1F2;" viewBox="0 0 24 24" role="img">
                      <path d="M22.46 6c-.77.35-1.6.58-2.46.69a4.3 4.3 0 001.88-2.37 8.6 8.6 0 01-2.73 1.04A4.28 4.28 0 0016.11 4c-2.37 0-4.29 1.92-4.29 4.29 0 .34.04.67.11.99-3.56-.18-6.73-1.88-8.85-4.46a4.28 4.28 0 001.32 5.72 4.27 4.27 0 01-1.94-.54v.05c0 2 1.42 3.67 3.3 4.05a4.29 4.29 0 01-1.93.07c.54 1.68 2.1 2.91 3.95 2.95A8.6 8.6 0 012 19.54 12.1 12.1 0 008.29 21c7.55 0 11.68-6.26 11.68-11.68 0-.18-.01-.36-.02-.53A8.3 8.3 0 0022.46 6z"/>
                    </svg>
                  </a>
                  <a href="https://instagram.com/hitaishiconstructions" target="_blank" aria-label="Hitaishi Constructions on Instagram" title="Follow Hitaishi Constructions on Instagram">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#E1306C" viewBox="0 0 16 16" role="img">
                      <path d="M8 3.25a4.75 4.75 0 1 0 0 9.5 4.75 4.75 0 0 0 0-9.5zM5.75 8a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0z"/>
                      <path d="M11.5 1h-7A3.5 3.5 0 0 0 1 4.5v7A3.5 3.5 0 0 0 4.5 15h7a3.5 3.5 0 0 0 3.5-3.5v-7A3.5 3.5 0 0 0 11.5 1zm2.5 10.5a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 11.5v-7A2.5 2.5 0 0 1 4.5 2h7a2.5 2.5 0 0 1 2.5 2.5v7z"/>
                      <circle cx="12.5" cy="3.5" r="0.75"/>
                    </svg>
                  </a>
                  <a href="https://linkedin.com/company/hitaishiconstructions" target="_blank" aria-label="Hitaishi Constructions on LinkedIn" title="Follow Hitaishi Constructions on LinkedIn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#0077B5" viewBox="0 0 24 24" role="img">
                      <path d="M20.447 20.452H17.2v-5.569c0-1.328-.026-3.039-1.852-3.039-1.853 0-2.136 1.445-2.136 2.938v5.67H9.066V9h3.123v1.561h.044c.435-.824 1.498-1.694 3.083-1.694 3.293 0 3.9 2.168 3.9 4.988v6.597zM5.337 7.433a1.813 1.813 0 1 1 0-3.625 1.813 1.813 0 0 1 0 3.625zM6.934 20.452H3.74V9h3.194v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.226.792 24 1.771 24h20.451C23.2 24 24 23.226 24 22.271V1.729C24 .774 23.2 0 22.225 0z"/>
                    </svg>
                  </a>
                  <a href="https://youtube.com/hitaishiconstructions" target="_blank" aria-label="Hitaishi Constructions on YouTube" title="Subscribe to Hitaishi Constructions on YouTube">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#FF0000" viewBox="0 0 24 24" role="img">
                      <path d="M23.498 6.186a2.963 2.963 0 0 0-2.084-2.1C19.682 3.5 12 3.5 12 3.5s-7.682 0-9.414.586a2.963 2.963 0 0 0-2.084 2.1C.5 8.001.5 12 .5 12s0 3.999.002 5.814a2.963 2.963 0 0 0 2.084 2.1c1.732.586 9.414.586 9.414.586s7.682 0 9.414-.586a2.963 2.963 0 0 0 2.084-2.1C23.5 15.999 23.5 12 23.5 12s0-3.999-.002-5.814zM9.755 15.568V8.432L15.818 12l-6.063 3.568z"/>
                    </svg>
                  </a>
                  <a href="https://wa.me/919999999999" target="_blank" aria-label="Chat on WhatsApp" title="Chat with Hitaishi Constructions on WhatsApp">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#25D366" viewBox="0 0 24 24" role="img">
                      <path d="M20.52 3.48A11.867 11.867 0 0012.01 0C5.387 0 .006 5.383.006 12.007a11.89 11.89 0 001.62 6.04L0 24l6.18-1.607a11.93 11.93 0 005.82 1.5h.007c6.623 0 12.007-5.382 12.007-11.996a11.865 11.865 0 00-3.494-8.417zM12 22.09h-.006a10.06 10.06 0 01-5.14-1.403l-.368-.22-3.666.954.98-3.572-.239-.367A9.977 9.977 0 012.004 12c0-5.512 4.486-9.998 9.998-9.998a9.953 9.953 0 017.07 2.929 9.952 9.952 0 012.928 7.07c0 5.512-4.486 9.998-9.998 9.998zm5.58-7.647c-.305-.153-1.805-.89-2.086-.99-.28-.101-.484-.153-.687.152s-.79.99-.97 1.193c-.178.203-.356.229-.66.076-.305-.153-1.29-.475-2.456-1.513-.907-.808-1.52-1.807-1.698-2.112-.178-.305-.02-.47.134-.623.137-.137.305-.356.457-.533.153-.178.203-.305.305-.508.102-.203.051-.381-.025-.534-.076-.153-.686-1.653-.94-2.265-.247-.594-.497-.515-.687-.524h-.59c-.204 0-.534.076-.813.381-.28.305-1.065 1.04-1.065 2.536s1.092 2.945 1.244 3.148c.153.203 2.15 3.275 5.21 4.592.729.314 1.296.501 1.74.639.732.233 1.398.2 1.923.122.586-.086 1.805-.737 2.06-1.45.254-.711.254-1.322.178-1.45-.076-.127-.279-.203-.584-.356z"/>
                    </svg>
                  </a>
                </div>
              
              
            </div>
            <div style="flex: 1; min-width: 250px;">
                <h3 style="color: #ffd700; border-bottom: 2px solid #ffd700; padding-bottom: 10px;">Newsletter</h3>
                <p>Subscribe for updates and special offers:</p>
                <div style="margin-top: 15px;">
                    <input type="email" placeholder="Enter your email" style="padding: 8px; width: 70%; border: 1px solid #ddd;" aria-label="Email for newsletter subscription">
                    <button style="padding: 8px 15px; background-color: #ffd700; border: none; cursor: pointer; margin-top: 10px;" title="Subscribe to Hitaishi Constructions Newsletter">Subscribe</button>
                </div>
            </div>
        </div>
        <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #555;">
            <p style="margin: 0;">¬© 2025 Hitaishi Constructions. All rights reserved.</p>
            <p style="margin: 5px 0 0;">ISO 9001 Certified | GSTIN: 07AAACH0000A1Z5</p>
        </div>
 </footer>

<!-- Session-check script: show username and logout link when logged in -->
<script>
  (async function(){
    await new Promise(resolve => { if (document.readyState !== 'loading') { resolve(); } else { document.addEventListener('DOMContentLoaded', resolve); } });
    await new Promise(resolve => setTimeout(resolve, 100));
    try{
      const API_BASE = 'http://localhost:5000';
      const res = await fetch(API_BASE + '/api/me', { credentials: 'include' });
      const data = await res.json();
      const a = document.getElementById('loginLink');
      const l = document.getElementById('logoutLink');
      if (a && data && data.success && data.user){
        const user = data.user;
        a.textContent = user.name || user.email || 'Account';
        a.href = (user.userType === 'seller') ? 'seller_dashboard.html' : 'buyer_dashboard.html';
        a.style.color = '#28a745';
        if (l) { l.style.display = 'inline-block'; l.onclick = async function(e){ e.preventDefault(); await fetch(API_BASE + '/api/logout', { method: 'POST', credentials: 'include' }); location.reload(); }; }
      } else if (a) { a.textContent = 'Login'; a.href = 'login.html'; a.style.color = '#004080'; if (l) l.style.display = 'none'; }
    }catch(e){ console.error('Auth check failed', e); }
  })();
</script>




  <!-- Load Navbar Script -->
  <script>
  // Load shared navbar (injects navbar.html body and executes its scripts)
  async function includeNavbar() {
    try {
      const res = await fetch('navbar.html');
      const text = await res.text();
      const parser = new DOMParser();
      const doc = parser.parseFromString(text, 'text/html');
      document.getElementById('navbar-container').innerHTML = doc.body.innerHTML;

      // Execute scripts from navbar.html and wait for external scripts to load
      const __createdScriptPromises = [];
      doc.querySelectorAll('script').forEach(s => {
        const newScript = document.createElement('script');
        if (s.src) {
          newScript.src = s.src;
          newScript.async = false;
          __createdScriptPromises.push(new Promise(resolve => {
            newScript.addEventListener('load', resolve);
            newScript.addEventListener('error', resolve);
            setTimeout(resolve, 2000);
          }));
        } else {
          newScript.textContent = s.textContent;
        }
        document.body.appendChild(newScript);
      });
      Promise.all(__createdScriptPromises).finally(() => {});

      // Ensure navbar init functions run after dynamic injection (wait for external scripts to load)
      const __navbarScriptPromises = [];
      doc.querySelectorAll('script').forEach((s, i) => {
        const existing = document.querySelectorAll('script')[document.querySelectorAll('script').length - 1 - i];
        if (existing && existing.src) {
          __navbarScriptPromises.push(new Promise(resolve => {
            existing.addEventListener('load', resolve);
            existing.addEventListener('error', resolve);
            setTimeout(resolve, 2000);
          }));
        }
      });
      Promise.all(__navbarScriptPromises).finally(() => {
        if (typeof checkScreenSize === 'function') checkScreenSize();
        if (typeof addDesktopHoverEffects === 'function') addDesktopHoverEffects();
        if (typeof updateUserUI === 'function') updateUserUI();
        if (typeof updateCartBadge === 'function') updateCartBadge();
        if (typeof setActiveNavLink === 'function') setActiveNavLink();
      });
    } catch (e) {
      console.error('Failed to load navbar:', e);
    }
  }
  includeNavbar();
</script>

</body>
</html>
